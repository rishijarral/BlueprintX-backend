# =============================================================================
# Python AI Service - Local Development Environment
# =============================================================================
# NOTE: For Docker deployments, use the root .env file instead.
#       This file is only for running the Python service directly (uv run).
#
# Copy this file to .env in this directory for local development.
# =============================================================================

# Environment: dev | staging | prod
ENV=dev

# Server
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# Security - Internal API Token (must match Rust service's AI_SERVICE_TOKEN)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
INTERNAL_API_TOKEN=dev-internal-token-change-in-prod

# =============================================================================
# GEMINI API (Required)
# =============================================================================
GEMINI_API_KEY=your-gemini-api-key-here

# Model configuration
GEMINI_MODEL_TEXT=gemini-2.5-flash
GEMINI_MODEL_VISION=gemini-2.5-flash
GEMINI_MODEL_FAST=gemini-2.5-flash
GEMINI_EMBEDDING_MODEL=gemini-embedding-001

# API settings
GEMINI_TIMEOUT_SECONDS=120
GEMINI_MAX_RETRIES=3

# =============================================================================
# DATABASE (use localhost when running outside Docker)
# =============================================================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/blueprintx

# =============================================================================
# VECTOR STORE
# =============================================================================
VECTOR_STORE_TYPE=pgvector
PGVECTOR_COLLECTION_NAME=document_embeddings
PGVECTOR_EMBEDDING_DIMENSIONS=768

# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================
MAX_UPLOAD_SIZE_MB=100
PDF_DPI=200
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# =============================================================================
# REDIS (use localhost when running outside Docker)
# =============================================================================
# Leave empty to disable caching
REDIS_URL=redis://localhost:6379/1
REDIS_CACHE_TTL_SECONDS=3600

# =============================================================================
# JOBS
# =============================================================================
JOB_STORE_TYPE=memory

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=console
