# BlueprintX AI Service Configuration

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENV=dev

# =============================================================================
# SERVER
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# =============================================================================
# SECURITY - Internal API Token (Rust -> Python auth)
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
INTERNAL_API_TOKEN=your-secure-internal-token-here

# =============================================================================
# GEMINI API
# =============================================================================
GEMINI_API_KEY=your-gemini-api-key-here

# Model configuration
GEMINI_MODEL_TEXT=gemini-2.0-flash
GEMINI_MODEL_VISION=gemini-2.0-flash
GEMINI_MODEL_FAST=gemini-2.0-flash
GEMINI_EMBEDDING_MODEL=text-embedding-004

# API settings
GEMINI_TIMEOUT_SECONDS=120
GEMINI_MAX_RETRIES=3

# =============================================================================
# DATABASE - PostgreSQL with pgvector
# =============================================================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/blueprintx

# =============================================================================
# VECTOR STORE
# =============================================================================
# Options: pgvector, (future: pinecone, qdrant, chroma)
VECTOR_STORE_TYPE=pgvector

# pgvector specific
PGVECTOR_COLLECTION_NAME=document_embeddings
PGVECTOR_EMBEDDING_DIMENSIONS=768

# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================
# Maximum file size in MB
MAX_UPLOAD_SIZE_MB=100

# PDF to image DPI for OCR
PDF_DPI=200

# Chunking settings
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# =============================================================================
# REDIS (Optional - for caching and job store)
# =============================================================================
# Leave empty to disable caching
REDIS_URL=redis://redis:6379/1
REDIS_CACHE_TTL_SECONDS=3600

# =============================================================================
# JOBS
# =============================================================================
# Job store type: memory, redis
JOB_STORE_TYPE=memory

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
